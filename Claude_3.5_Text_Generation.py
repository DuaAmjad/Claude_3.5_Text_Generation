# -*- coding: utf-8 -*-
"""Claude 3.5_Text Generation.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1WBsfLNB_hKFaVtoIWqnQpL2a_i6ITtzW
"""

#Claude 3.5
#Text Generation
#BY DUA AMJAD

import requests

def generate_text(prompt, api_key, max_tokens=150):
    url = "https://api.anthropic.com/v1/complete"
    headers = {
        "x-api-key": api_key,
        "Content-Type": "application/json",
        "anthropic-version": "2023-06-01"  # or the appropriate version
    }
    data = {
        "model": "claude-v1.3-100k",  # Use the correct model name
        "prompt": f"\n\nHuman: {prompt}\n\nAssistant:",
        "max_tokens_to_sample": max_tokens  # Adjust as needed
    }

    response = requests.post(url, json=data, headers=headers)
    return response.json()

def complete_sentence(text):
    # Ensure the text ends with a complete sentence
    if '.' in text:
        return text[:text.rfind('.')+1]
    return text

# Replace 'your_actual_api_key_here' with your valid API key
api_key = "Insert Your API Here"
prompt = "Give a brief summary of the Harry Potter story."
output = generate_text(prompt, api_key, max_tokens=300)  # Increase max tokens for more detailed output

if 'completion' in output:
    final_output = complete_sentence(output['completion'])
    print(final_output)
else:
    print("Error:", output)

